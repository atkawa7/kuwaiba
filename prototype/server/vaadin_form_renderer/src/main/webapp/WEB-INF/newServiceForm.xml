<root>
    <form id="newServiceForm123" title="${I18N.newService}">
        <!--<gridLayout rows="1" columns="4">-->
        <gridLayout rows="1" columns="3">
            <verticalLayout>
                <image value="images/image001.png"/>                
            </verticalLayout>

            <verticalLayout>
                <label value="AFR-IX Telecom SLU $lt.br/$gt. C/Àlaba 61. 08025 $lt.br/$gt. Barcelona Spain $lt.br/$gt. NIF: B66087420" styleName="empty bold"/>
            </verticalLayout>
            
            <gridLayout rows="3" columns="2">
                <label onload="value.i18n.orderNumber"/>
                <textField id="txtOrderNumber" onload="value.getOrderNumber" enabled="false"/>
                
                <label onload="value.i18n.orderDate"/>
                <dateField/>
                
                <label onload="value.i18n.serviceDate"/>
                <dateField/>
            </gridLayout>            
        </gridLayout>
        <verticalLayout>
            <label value="CUSTOMER ORDER FORM" styleName="empty title bold"/>
            <verticalLayout>
                <label value="CUSTOMER AND ORDER INFORMATION" styleName="empty bold"/>
                <gridLayout rows="2" columns="4">
                    <label onload="value.i18n.customer"/>
                    <comboBox id="cmbCustomer" onload="items.getCustomers" propertychangelistener="txtServiceCode" mandatory="true"/>
                    <label onload="value.i18n.acronym"/>
                    <textField id="txtCustomer" enabled="false" onvaluechange="notify.txtServiceCode"/>

                    <label onload="value.i18n.endCustomer"/>
                    <comboBox id="cmbEndCustomer" onload="items.getCustomers" onvaluechange="threeCharacterCode.cmbEndCustomer.txtEndCustomer" mandatory="true"/>
                    <label onload="value.i18n.acronym"/>
                    <textField id="txtEndCustomer" enabled="false"/>
                </gridLayout>
            </verticalLayout>
            <verticalLayout>
                <label value="SERVICE INFORMATION" styleName="empty bold"/>     
                <gridLayout rows="3" columns="4">
                    <label onload="value.i18n.typeOfService"/>
                    <comboBox id="cmbTypeOfService" onload="items.getServices" onvaluechange="threeCharacterCode.cmbTypeOfService.txtTypeOfService"/>
                    <label onload="value.i18n.acronym"/>
                    <textField id="txtTypeOfService" enabled="false" onnotify="getServiceCode.txtCustomer"/>
                    
                    <label onload="value.i18n.bandwidth"/>
                    <comboBox id="cboBandwidth" onload="items.getBandwidths" onvaluechange="notify.txtServiceCode"/>
                    <label value=" " styleName="empty"/>
                    <label value=" " styleName="empty"/>

                    <label onload="value.i18n.serviceCode"/>
                    <textField id="txtServiceCode" onpropertychange="value.getServiceCode.cmbCustomer.cmbEndCustomer.cmbTypeOfService.txtCircuitOriginCity.txtCircuitDestinationCity.cboBandwidth" enabled="false"/>
                    <label value=" " styleName="empty"/>
                    <label value=" " styleName="empty"/>
                </gridLayout>
            </verticalLayout>
            <verticalLayout>
                <label value="SERVICE PARAMETERS" styleName="empty bold"/>
                <grid id="gridOrderForm">
                    <column caption="ORDER"></column>
                    <column caption="ORDER TYPE"></column>
                    <column caption="ORIGIN"></column>
                    <column caption="DESTINATION"></column>
                    <column caption="SEGMENT"></column>
                    <column caption="A END"></column>
                    <column caption="B END"></column>
                    <column caption="Non-Recurring"></column>
                    <column caption="Monthly Recurring"></column>
                    <column caption="Yearly"></column>
                </grid>
                <button caption="Add row" onclick="open.orderForm"/>
                <subform id="orderForm">
                    <gridLayout rows="10" columns="2">
                        <label value="ORDER"/> <textField id="orderFormField1" onload="value.getValue.txtOrderNumber"/>
                        <label value="ORDER TYPE"/> <comboBox id="orderFormField2" onload="items.getOrders"/>
                        <label value="ORIGIN"/> <comboBox id="orderFormField3" onload="items.getBuildings"/>
                        <label value="DESTINATION"/> <comboBox id="orderFormField4" onload="items.getBuildings"/>
                        <label value="SEGMENT"/> <textField id="orderFormField5"/>
                        <label value="A END"/> <textField id="orderFormField6"/>
                        <label value="B END"/> <textField id="orderFormField7"/>
                        <label value="Non-Recurring"/> <textField id="orderFormField8"/>
                        <label value="Monthly Recurring"/> <textField id="orderFormField9"/>
                        <label value="Yearly"/> <textField id="orderFormField10"/>
                    </gridLayout>
                    <horizontalLayout>
                        <button caption="Add" onclick="addgridrow.gridOrderForm.orderFormField1.orderFormField2.orderFormField3.orderFormField4.orderFormField5.orderFormField6.orderFormField7.orderFormField8.orderFormField9.orderFormField10 close.orderForm clean.orderForm"/>
                        <button caption="Cancel" onclick="close.orderForm clean.orderForm"/>
                    </horizontalLayout>
                </subform>
                <grid id="gridContractForm">
                    <column caption="CONTRACT"></column>
                    <column caption="CONTRACT RENEWAL"></column>
                    <column caption="INTERFAZ"></column>
                    <column caption="CURRENCY"></column>
                    <column caption="BILLING PERIOD"></column>
                    <column caption="BILLING START"></column>
                </grid>
                <button caption="Add row" onclick="open.contractForm"/>
                <subform id="contractForm">
                    <gridLayout rows="6" columns="2">
                        <label value="CONTRACT"/> <comboBox id="contractFormField1" onload="items.getContracts"/>
                        <label value="CONTRACT RENEWAL"/> <dateField id="contractFormField2"/>
                        <label value="INTERFAZ"/> <comboBox id="contractFormField3" onload="items.getInterfaces"/>
                        <label value="CURRENCY"/> <comboBox id="contractFormField4" onload="items.getCurrencies"/>
                        <label value="BILLING PERIOD"/> <comboBox id="contractFormField5" onload="items.getBillingPeriod"/>
                        <label value="BILLING START"/> <textField id="contractFormField6"/>
                    </gridLayout>
                    <horizontalLayout>
                        <button caption="Add" onclick="addgridrow.gridContractForm.contractFormField1.contractFormField2.contractFormField3.contractFormField4.contractFormField5.contractFormField6 close.contractForm clean.contractForm"/>
                        <button caption="Cancel" onclick="close.contractForm clean.contractForm"/>
                    </horizontalLayout>
                </subform>
            </verticalLayout>
            <verticalLayout>
                <label value="COMMENTS" styleName="empty bold"/>     
                <label value="CUSTOMER SERVICE DELIVERY INFORMATION" styleName="empty bold"/>
                <textArea/>       
            </verticalLayout>
            <verticalLayout>
                <gridLayout rows="2" columns="4">
                    <label value="Circuit Origin" styleName="empty subtitle bold" area="0,0,1,0"/>
                    <label value="Circuit Destination" styleName="empty subtitle bold" area="2,0,3,0"/>
                    <label onload="value.i18n.hosterLocation"/><comboBox onload="items.getBuildings"/><label onload="value.i18n.hosterLocation"/><comboBox onload="items.getBuildings"/>
                    <label onload="value.i18n.circuitCode"/><textField /><label onload="value.i18n.circuitCode"/><textField />
                    <label onload="value.i18n.mmrCode"/><textField /><label onload="value.i18n.mmrCode"/><textField />
                    <label value="Node Address" /><textField /><label value="Node Address"/><textField />
                    <label value="Contact Info" /><textField /><label value="Contact Info"/><textField />
                    <label value="City" /><textField id="txtCircuitOriginCity" enabled="false"/><label value="City"/><textField id="txtCircuitDestinationCity" enabled="false"/>
                    <label value="Country" /><textField enabled="false"/><label value="Country"/><textField enabled="false"/>
                </gridLayout>
            </verticalLayout>
        </verticalLayout>
            
        <verticalLayout>   
            <gridLayout rows="6" columns="4">
                <label value="CUSTOMER INFORMATION" styleName="empty bold" area="0,0,1,0"/>
                <label value="AFR-IX INFORMATION" styleName="empty bold" area="2,0,3,0"/>
                
                <label value="Company Name" /><textField /><label value="Company Name"/><textField />
                <label value="Full Address" /><textField /><label value="Full Address"/><textField />
            </gridLayout>
        </verticalLayout>
                    
        <verticalLayout>
            <gridLayout rows="6" columns="4">
                <label value="COMMERCIAL CONTACT INFO" styleName="empty bold" area="0,0,1,0"/>
                <label value="AFR-IX COMMERCIAL CONTACT INFO" styleName="empty bold" area="2,0,3,0"/>
                
                <label value="Name" /><textField /><label value="Name"/><textField />
                <label value="Phone" /><textField id="txtCommercialPhone1" validate="value.phoneValidator.txtCommercialPhone1"/><label value="Phone"/><textField id="txtCommercialPhone2" validate="value.phoneValidator.txtCommercialPhone2"/>
                <label value="Cell Phone" /><textField /><label value="Cell phone"/><textField />
                <label value="Email" /><textField id="txtCommercialEmail1" validate="value.emailValidator.txtCommercialEmail1"/><label value="Email"/><textField id="txtCommercialEmail2" validate="value.emailValidator.txtCommercialEmail2"/>
                <label value="Fax" /><textField /><label value="Fax"/><textField />
            </gridLayout>
        </verticalLayout>
        
        <verticalLayout>
            <gridLayout rows="6" columns="4">
                <label value="TECHNICAL CONTACT INFO" styleName="empty bold" area="0,0,1,0"/>
                <label value="AFR-IX TECHNICAL CONTACT INFO" styleName="empty bold" area="2,0,3,0"/>
                
                <label value="Name" /><textField /><label value="Name"/><textField />
                <label value="Phone"/><textField id="txtTechnicalPhone1" validate="value.phoneValidator.txtTechnicalPhone1"/><label value="Phone"/><textField id="txtTechnicalPhone2" validate="value.phoneValidator.txtTechnicalPhone2"/>
                <label value="Cell Phone" /><textField validate="value.phoneValidator.TxtBillingPhone1"/><label value="Cell Phone"/><textField validate="value.phoneValidator.TxtBillingPhone1"/>
                <label value="E-mail"/><textField id="txtTechnicalEmail1" validate="value.emailValidator.txtTechnicalEmail1"/><label value="E-mail"/><textField id="txtTechnicalEmail2" validate="value.emailValidator.txtTechnicalEmail2"/>
                <label value="Fax" /><textField /><label value="Fax"/><textField />
            </gridLayout>
        </verticalLayout>
        
        <verticalLayout>
            <gridLayout rows="10" columns="4">
                <label value="BILLING CONTACT INFO" styleName="empty bold" area="0,0,1,0"/>
                <label value="AFR-IX BILLING CONTACT INFO" styleName="empty bold" area="2,0,3,0"/>
                
                <label value="Name"/><textField /><label value="Name"/><textField />
                <label value="Phone" /><textField id="txtBillingPhone1" validate="value.phoneValidator.txtBillingPhone1"/><label value="Phone"/><textField  id="txtBillingPhone2" validate="value.phoneValidator.txtBillingPhone2"/>
                <label value="TIN Number"/><textField /><label value="TIN Number"/><textField />
                <label value="E-mail"/><textField id="txtBillingEmail1" validate="value.emailValidator.txtBillingEmail1"/><label value="E-mail"/><textField id="txtBillingEmail2" validate="value.emailValidator.txtBillingEmail2"/>
                <label value="Fax"/><textField /><label value="Fax"/><textField />
                <label value="City"/><textField /><label value="City"/><textField />
                <label value="Country"/><textField /><label value="Country"/><textField />
                <label value="Company Name"/><textField /><label value="Company Name"/><textField />
                <label value="Billing Address"/><textField /><label value="Billing Address"/><textField />
            </gridLayout>
        </verticalLayout>
                    
        <verticalLayout>
            <label value="AFR-IX BANK INFO" styleName="empty bold"/>
            <gridLayout rows="3" columns="4">
                <label value="Bank"/><textField /><label value="IBAN [US]"/><textField/>
                <label value="IBAN [€]"/><textField/><label value="SWIFT"/><textField/>
                <label value="Address"/><textField/>
            </gridLayout>
        </verticalLayout>
        
        <verticalLayout>
            <gridLayout rows="4" columns="4">
                <label value="FOR CUSTOMER" styleName="empty bold" area="0,0,1,0"/>                
                <label value="FOR AFR-IX" styleName="empty bold" area="2,0,3,0"/>
                
                <label value="Printed Name"/><textField/><label value="Printed Name"/><textField/>
                <label value="Title"/><textField/><label value="Title"/><textField/>
                <label value="Date"/><dateField/><label value="Date"/><dateField/>
            </gridLayout>
        </verticalLayout>
        
        <verticalLayout>
            <button caption="Clean Form" onclick="clean.newServiceForm123"/>            
        </verticalLayout>
        
    </form>
    <script>
        <function type="function" name="getServiceCode" parameternames="customer endCustomer typeOfService cityOrigin cityDestination bandwidth">
            "Hello from Service Code!!!";
        </function>
        <function type="function" name="getOrderNumber">
            import java.util.Random;
            String.valueOf(new Random().nextInt());
        </function>  
        <function type="validator" name="emailValidator" parameternames="aField" message="The value must be a email">
            import java.util.regex.Matcher;
            import java.util.regex.Pattern;
            
            Pattern pat = Pattern.compile("^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,6}\$", Pattern.CASE_INSENSITIVE);
            if (aField.getValue() == null)
                return false;
            return pat.matcher(aField.getValue()).matches();
        </function>
        <function type="function" name="getValue" parameternames="aField">
            aField.getValue();
        </function>
        <function type="validator" name="phoneValidator" parameternames="aField" message="The value must be a number">
            aField.getValue().isInteger();
        </function>
        <function type="query" name="getCustomers" queryname="getCustomers"/>
        <function type="query" name="getServices" queryname="getServices"/>
        <function type="query" name="getBandwidths" queryname="getBandwidths"/>
        <function type="query" name="getOrders" queryname="getOrders"/>
        <function type="query" name="getBuildings" queryname="getBuildings"/>
        <function type="query" name="getContracts" queryname="getContracts"/>
        <function type="query" name="getInterfaces" queryname="getInterfaces"/> 
        <function type="query" name="getCurrencies" queryname="getCurrencies"/>
        <function type="query" name="getBillingPeriod" queryname="getBillingPeriod"/>
    </script>
    <i18n>
        <messages key="newService">
            <message lang="en_US" value="New Service"/>
            <message lang="es_ES" value="Nuevo servicio"/>
        </messages>
        <messages key="orderNumber">
            <message lang="en_US" value="Order Number"/>
        </messages>
        <messages key="orderDate">
            <message lang="en_US" value="Order Date"/>
        </messages>
        <messages key="serviceDate">
            <message lang="en_US" value="Service Date"/>
        </messages>
        <messages key="customerOrder">
            <message lang="en_US" value="CUSTOMER ORDER FORM"/>
        </messages>
        <messages key="customer">
            <message lang="en_US" value="Customer"/>
        </messages>
        <messages key="endCustomer">
            <message lang="en_US" value="End Customer"/>
        </messages>
        <messages key="acronym">
            <message lang="en_US" value="Acronym"/>
        </messages>

        <messages key="typeOfService">
            <message lang="en_US" value="Type of Service"/>
        </messages>
        <messages key="bandwidth">
            <message lang="en_US" value="Bandwidth"/>
        </messages>
        <messages key="serviceCode">
            <message lang="en_US" value="Service Code"/>
        </messages>
        
        <messages key="hosterLocation">
            <message lang="en_US" value="Hoster Location"/>
        </messages>
        <messages key="circuitCode">
            <message lang="en_US" value="Circuit Code"/>
        </messages>
        <messages key="mmrCode">
            <message lang="en_US" value="MMR Code"/>
        </messages>
    </i18n>
</root>